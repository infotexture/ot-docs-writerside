<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-02-13T09:29:37.444485"><title>Adding new diagnostic messages | DITA Open Toolkit 4.1</title><script type="application/json" id="virtual-toc-data">[]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Adding new diagnostic messages | DITA Open Toolkit 4.1"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="DITA Open Toolkit 4.1 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="plugin-messages.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Adding new diagnostic messages | DITA Open Toolkit 4.1"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "plugin-messages.html#webpage",
    "url": "plugin-messages.html",
    "name": "Adding new diagnostic messages | DITA Open Toolkit 4.1",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "/#website",
    "url": "/",
    "name": "DITA Open Toolkit 4.1 Help"
}</script><!-- End Schema.org --></head><body data-id="plugin-messages" data-main-title="Adding new diagnostic messages" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="custom-plugins.md|Creating plug-ins///plugin-use-cases.md|Plug-in use cases"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>DITA Open Toolkit 4.1  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="plugin-messages" id="plugin-messages.md">Adding new diagnostic messages</h1><p id="33170584_2">Use the <code class="code" id="33170584_3">dita.xsl.messages</code> extension point to add plug-in-specific messages to the diagnostic messages that are generated by DITA-OT. These messages then can be used by any XSLT override.</p><ol class="list _decimal" id="33170584_4" type="1"><li class="list__item" id="33170584_5"><p id="33170584_6">Create an XML file that contains the messages that you want to add. Be sure to use the following format for the XML file:</p><div class="code-block" data-lang="none">
&lt;messages&gt;
  *&amp;lt;!-- See resources/messages.xml for the details. --&amp;gt;*
  &lt;message id=&quot;*Prefix**Number**Letter*&quot; type=&quot;*error-severity*&quot;&gt;
    &lt;reason&gt;Message text&lt;/reason&gt;
    &lt;response&gt;How to resolve&lt;/response&gt;
  &lt;/message&gt;
&lt;/messages&gt;
</div><p id="33170584_8">where:</p><ul class="list _ul" id="33170584_9"><li class="list__item" id="33170584_10"><p id="33170584_11"><span class="emphasis" id="33170584_12">Prefix</span> is a sequence of four capital letters.</p><p id="33170584_13"><span class="control" id="33170584_14">Note:</span> By convention, the toolkit messages use <code class="code" id="33170584_15">DOTX</code> but any sequence can be used by plug-in developers.</p></li><li class="list__item" id="33170584_16"><p id="33170584_17"><span class="emphasis" id="33170584_18">Number</span> is a three-digit integer.</p></li><li class="list__item" id="33170584_19"><p id="33170584_20"><span class="emphasis" id="33170584_21">Letter</span> is one of the following upper-case letters: I, W, E, F. It should match the value that is specified for the <code class="code" id="33170584_22">@type</code> attribute.</p><p id="33170584_23"><span class="control" id="33170584_24">Note:</span> As the <code class="code" id="33170584_25">@id</code> attribute is used as a whole and not decomposed by recent versions of the toolkit, you could use any sequence as the message identifier. Nevertheless, to facilitate reuse of the plug-in and make it more readable by other users, we recommend following these guidelines.</p></li><li class="list__item" id="33170584_26"><p id="33170584_27"><span class="emphasis" id="33170584_28">error-severity</span> specifies the severity of the error. It must be one of the following values:</p><ul class="list _ul" id="33170584_29"><li class="list__item" id="33170584_30"><p id="33170584_31"><span class="control" id="33170584_32">Info (I)</span></p><p id="33170584_33">Informational messages highlight the progress of transformation and call attention to conditions of which you should be aware. For example, draft comments are enabled and will be rendered in the output.</p></li><li class="list__item" id="33170584_34"><p id="33170584_35"><span class="control" id="33170584_36">Warning (W)</span></p><p id="33170584_37">The toolkit encountered a problem that should be corrected. Processing will continue, but the output might not be as expected.</p></li><li class="list__item" id="33170584_38"><p id="33170584_39"><span class="control" id="33170584_40">Error (E)</span></p><p id="33170584_41">The toolkit encountered a more severe problem, and the output is affected. For example, some content is missing or invalid, or the content is not rendered in the output</p></li><li class="list__item" id="33170584_42"><p id="33170584_43"><span class="control" id="33170584_44">Fatal (F)</span></p><p id="33170584_45">The toolkit encountered a severe condition, processing stopped, and no output is generated.</p></li></ul><p id="33170584_46"><span class="control" id="33170584_47">Note:</span> The <code class="code" id="33170584_48">FATAL</code> value throws a fatal error message in XSLT and an exception in Java.</p><p id="33170584_49"><span class="control" id="33170584_50">Tip:</span> If the <code class="code" id="33170584_51">@id</code> attribute of your message is equal to the <code class="code" id="33170584_52">@id</code> of a default DITA-OT message, your message will override the default one. An override cannot change the severity of the overridden message.</p></li></ul></li><li class="list__item" id="33170584_53"><p id="33170584_54">Create a <code class="code" id="33170584_55">plugin.xml</code> file that contains the following content:</p><div class="code-block" data-lang="none">
&lt;plugin id=&quot;*plugin-id*&quot;&gt;
  &lt;feature extension=&quot;dita.xsl.messages&quot; file=&quot;*file*&quot;/&gt;
&lt;/plugin&gt;
</div><p id="33170584_57">where:</p><ul class="list _ul" id="33170584_58"><li class="list__item" id="33170584_59"><p><span class="emphasis" id="33170584_60">plugin-id</span> is the plug-in identifier, for example, <code class="code" id="33170584_61">com.example.newmsg</code>.</p></li><li class="list__item" id="33170584_62"><p><span class="emphasis" id="33170584_63">file</span> is the name of the new XML file containing the messages created in step <span id="33170584_64">1</span>, for example, <code class="code" id="33170584_65">myMessages.xml</code>.</p></li></ul></li><li class="list__item" id="33170584_66"><p id="33170584_67">Use the <code class="code" id="33170584_68">dita install</code> subcommand to install the plug-in.</p><p id="33170584_69"><span class="control" id="33170584_70">Note:</span> For more information, see <a href="plugins-installing.html" id="33170584_71" data-tooltip="Use the dita install subcommand to install plug-ins.">Installing plug-ins</a>.</p></li></ol><p id="33170584_72">Add the following call in XSLT modules to generate a message when a specific condition occurs:</p><div class="code-block" data-lang="none">
&lt;xsl:call-template name=&quot;output-message&quot;&gt;
  &lt;xsl:with-param name=&quot;id&quot;&gt;*prefix**number**letter*&lt;/xsl:with-param&gt;
  &lt;xsl:with-param name=&quot;msg&quot;&gt;Message text and parameters.&lt;/xsl:with-param&gt;
&lt;/xsl:call-template&gt;
</div><p id="33170584_74">You can also pass custom parameters to the template by using the <code class="code" id="33170584_75">@msgparams</code> parameter. The value of <code class="code" id="33170584_76">@msgparams</code> is a semicolon separated list of strings, where each token consists of a percent sign prefixed parameter index, equals sign and parameter value.</p><div class="code-block" data-lang="none">
&lt;xsl:call-template name=&quot;output-message&quot;&gt;
  &lt;xsl:with-param name=&quot;id&quot;&gt;*prefix**number**letter*&lt;/xsl:with-param&gt;
  &lt;xsl:with-param name=&quot;msgparams&quot;&gt;*%1=MyFirstValue**;**%2=MySecondValue*&lt;/xsl:with-param&gt;
&lt;/xsl:call-template&gt;
</div><p id="33170584_78">Use the <code class="code" id="33170584_79">ctx</code> parameter if calling from a function.</p><p id="33170584_80"><span class="control" id="33170584_81">Related information</span></p><p id="33170584_82"><a href="plugin-extension-points-general.html" id="33170584_83" data-tooltip="These extension points enable you to extend DITA-OT. You can add Ant targets or imports; add a Java library to the classpath parameter; add a new transformation type; extend a catalog file; add new diagnostic messages, and more.">General extension points</a></p><p id="33170584_84"><a href="plugins-installing.html" id="33170584_85" data-tooltip="Use the dita install subcommand to install plug-ins.">Installing plug-ins</a></p><div class="last-modified">Last modified: 13 February 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="plugin-javalib.html" class="navigation-links__prev">Adding a Java library to the **classpath**</a><a href="plugin-newextensions.html" class="navigation-links__next">Creating a new plug-in extension point</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>