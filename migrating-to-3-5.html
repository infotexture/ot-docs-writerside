<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-02-13T09:29:37.5275"><title>Migrating to release 3.5 | DITA Open Toolkit 4.1</title><script type="application/json" id="virtual-toc-data">[{"id":"new-subcommands","level":0,"title":"New subcommands","anchor":"#new-subcommands"},{"id":"legacy-constructs-removed","level":0,"title":"Legacy constructs removed","anchor":"#legacy-constructs-removed"},{"id":"adjusting-output-file-names","level":0,"title":"Adjusting output file names","anchor":"#adjusting-output-file-names"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Migrating to release 3.5 | DITA Open Toolkit 4.1"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="DITA Open Toolkit 4.1 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="migrating-to-3-5.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Migrating to release 3.5 | DITA Open Toolkit 4.1"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "migrating-to-3-5.html#webpage",
    "url": "migrating-to-3-5.html",
    "name": "Migrating to release 3.5 | DITA Open Toolkit 4.1",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "/#website",
    "url": "/",
    "name": "DITA Open Toolkit 4.1 Help"
}</script><!-- End Schema.org --></head><body data-id="migrating-to-3.5" data-main-title="Migrating to release 3.5" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="custom-plugins.md|Creating plug-ins///migration.md|Migrating customizations"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>DITA Open Toolkit 4.1  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="migrating-to-3.5" id="migrating-to-3.5.md">Migrating to release 3.5</h1><p id="8a2ec3b1_2">DITA-OT 3.5 includes support for additional input resources, an alternative subcommand syntax for the <code class="code" id="8a2ec3b1_3">dita</code> command, and an initial preview of features for the latest draft of the upcoming DITA 2.0 standard.</p><p id="8a2ec3b1_4"><span class="control" id="8a2ec3b1_5">Note:</span> This topic provides a summary of changes in DITA-OT 3.5 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/3.5/release-notes/" id="8a2ec3b1_6" data-external="true" rel="noopener noreferrer">DITA-OT 3.5 Release Notes</a>.</p><section class="chapter"><h2 id="new-subcommands" data-toc="new-subcommands">New subcommands</h2><p id="8a2ec3b1_7">The <code class="code" id="8a2ec3b1_8">dita</code> command line interface has been refactored to support subcommands for common operations.</p><p id="8a2ec3b1_9"><span class="control" id="8a2ec3b1_10">Important:</span> The new subcommands supersede the deprecated X-Toolkit&ndash;style single-hyphen keyword variants (such as <span class="control" id="8a2ec3b1_11">-install</span>), and the corresponding GNU-style option keywords preceded by two hyphens (such as <span class="control" id="8a2ec3b1_12">--install</span>).</p><ul class="list _ul" id="8a2ec3b1_13"><li class="list__item" id="8a2ec3b1_14"><p id="8a2ec3b1_15"><span class="control" id="8a2ec3b1_16"><code class="code" id="8a2ec3b1_17">dita install</code></span></p><p id="8a2ec3b1_18">Installs or reloads plug-ins (replaces <code class="code" id="8a2ec3b1_19">dita</code> <span class="control" id="8a2ec3b1_20">--install</span>)</p></li><li class="list__item" id="8a2ec3b1_21"><p id="8a2ec3b1_22"><span class="control" id="8a2ec3b1_23"><code class="code" id="8a2ec3b1_24">dita plugins</code></span></p><p id="8a2ec3b1_25">Prints a list of installed plug-ins (replaces <code class="code" id="8a2ec3b1_26">dita</code> <span class="control" id="8a2ec3b1_27">--plugins</span>)</p></li><li class="list__item" id="8a2ec3b1_28"><p id="8a2ec3b1_29"><span class="control" id="8a2ec3b1_30"><code class="code" id="8a2ec3b1_31">dita transtypes</code></span></p><p id="8a2ec3b1_32">Prints a list of installed transformation types, or <span class="emphasis" id="8a2ec3b1_33">output formats</span> (replaces <code class="code" id="8a2ec3b1_34">dita</code> <span class="control" id="8a2ec3b1_35">--transtypes</span>)</p></li><li class="list__item" id="8a2ec3b1_36"><p id="8a2ec3b1_37"><span class="control" id="8a2ec3b1_38"><code class="code" id="8a2ec3b1_39">dita uninstall</code></span></p><p id="8a2ec3b1_40">Removes and deletes a plug-in (replaces <code class="code" id="8a2ec3b1_41">dita</code> <span class="control" id="8a2ec3b1_42">--uninstall</span>)</p></li><li class="list__item" id="8a2ec3b1_43"><p id="8a2ec3b1_44"><span class="control" id="8a2ec3b1_45"><code class="code" id="8a2ec3b1_46">dita version</code></span></p><p id="8a2ec3b1_47">Prints version information and exits (replaces <code class="code" id="8a2ec3b1_48">dita</code> <span class="control" id="8a2ec3b1_49">--version</span>)</p></li></ul><p id="8a2ec3b1_50"><span class="control" id="8a2ec3b1_51">Tip:</span> The double-hyphen option syntax has been retained for backwards compatibility, so if you use commands like <code class="code" id="8a2ec3b1_52">dita</code> <span class="control" id="8a2ec3b1_53">--install</span> in scripts, they will still work, but you may want to migrate your scripts to the new subcommand syntax.</p></section><section class="chapter"><h2 id="legacy-constructs-removed" data-toc="legacy-constructs-removed">Legacy constructs removed</h2><p id="8a2ec3b1_54">DITA-OT 3.5 no longer includes the following legacy properties, list files, and targets, which were deprecated in previous releases. These constructs were no longer used in recent releases, and have now been removed entirely.</p><p id="8a2ec3b1_55">The following Ant targets have been removed from the pre-processing pipeline:</p><ul class="list _ul" id="8a2ec3b1_56"><li class="list__item" id="8a2ec3b1_57"><p><code class="code" id="8a2ec3b1_58">mappull</code> and <code class="code" id="8a2ec3b1_59">mappull-check</code>, which were used to pull metadata (such as navtitle) into the map from referenced topics prior to DITA-OT 2.2 (merged with <code class="code" id="8a2ec3b1_60">move-meta-entries</code>)</p></li><li class="list__item" id="8a2ec3b1_61"><p><code class="code" id="8a2ec3b1_62">conref-check</code>, deprecated since 2.3</p></li><li class="list__item" id="8a2ec3b1_63"><p><code class="code" id="8a2ec3b1_64">coderef</code>, which was used to resolve code references in input files prior to 2.3 (merged with <code class="code" id="8a2ec3b1_65">topic-fragment</code>)</p></li><li class="list__item" id="8a2ec3b1_66"><p><code class="code" id="8a2ec3b1_67">copy-subsidiary</code> and <code class="code" id="8a2ec3b1_68">copy-subsidiary-check</code>, which were used to copy files to the temporary directory prior to 2.1</p></li></ul><p id="8a2ec3b1_69">Recent DITA-OT versions provide alternative mechanisms to achieve the same results, such as the <code class="code" id="8a2ec3b1_70">&lt;ditafileset&gt;</code> element to select resources in the temporary directory.</p><p id="8a2ec3b1_71">Along with the obsolete targets, the following Ant properties have been removed:</p><ul class="list _ul" id="8a2ec3b1_72"><li class="list__item" id="8a2ec3b1_73"><p><code class="code" id="8a2ec3b1_74">canditopicsfile</code></p></li><li class="list__item" id="8a2ec3b1_75"><p><code class="code" id="8a2ec3b1_76">canditopicslist</code></p></li><li class="list__item" id="8a2ec3b1_77"><p><code class="code" id="8a2ec3b1_78">conreffile</code></p></li><li class="list__item" id="8a2ec3b1_79"><p><code class="code" id="8a2ec3b1_80">conreflist</code></p></li><li class="list__item" id="8a2ec3b1_81"><p><code class="code" id="8a2ec3b1_82">conreftargetsfile</code></p></li><li class="list__item" id="8a2ec3b1_83"><p><code class="code" id="8a2ec3b1_84">conreftargetslist</code></p></li><li class="list__item" id="8a2ec3b1_85"><p><code class="code" id="8a2ec3b1_86">copytosourcefile</code></p></li><li class="list__item" id="8a2ec3b1_87"><p><code class="code" id="8a2ec3b1_88">copytosourcelist</code></p></li><li class="list__item" id="8a2ec3b1_89"><p><code class="code" id="8a2ec3b1_90">fullditamapandtopicfile</code></p></li><li class="list__item" id="8a2ec3b1_91"><p><code class="code" id="8a2ec3b1_92">fullditamapandtopiclist</code></p></li><li class="list__item" id="8a2ec3b1_93"><p><code class="code" id="8a2ec3b1_94">fullditamapfile</code></p></li><li class="list__item" id="8a2ec3b1_95"><p><code class="code" id="8a2ec3b1_96">fullditamaplist</code></p></li><li class="list__item" id="8a2ec3b1_97"><p><code class="code" id="8a2ec3b1_98">fullditatopicfile</code></p></li><li class="list__item" id="8a2ec3b1_99"><p><code class="code" id="8a2ec3b1_100">fullditatopiclist</code></p></li><li class="list__item" id="8a2ec3b1_101"><p><code class="code" id="8a2ec3b1_102">hrefditatopicfile</code></p></li><li class="list__item" id="8a2ec3b1_103"><p><code class="code" id="8a2ec3b1_104">hrefditatopiclist</code></p></li><li class="list__item" id="8a2ec3b1_105"><p><code class="code" id="8a2ec3b1_106">hreftargetsfile</code></p></li><li class="list__item" id="8a2ec3b1_107"><p><code class="code" id="8a2ec3b1_108">hreftargetslist</code></p></li><li class="list__item" id="8a2ec3b1_109"><p><code class="code" id="8a2ec3b1_110">htmlfile</code></p></li><li class="list__item" id="8a2ec3b1_111"><p><code class="code" id="8a2ec3b1_112">htmllist</code></p></li><li class="list__item" id="8a2ec3b1_113"><p><code class="code" id="8a2ec3b1_114">imagefile</code></p></li><li class="list__item" id="8a2ec3b1_115"><p><code class="code" id="8a2ec3b1_116">imagelist</code></p></li><li class="list__item" id="8a2ec3b1_117"><p><code class="code" id="8a2ec3b1_118">outditafilesfile</code></p></li><li class="list__item" id="8a2ec3b1_119"><p><code class="code" id="8a2ec3b1_120">outditafileslist</code></p></li><li class="list__item" id="8a2ec3b1_121"><p><code class="code" id="8a2ec3b1_122">resourceonlyfile</code></p></li><li class="list__item" id="8a2ec3b1_123"><p><code class="code" id="8a2ec3b1_124">resourceonlylist</code></p></li><li class="list__item" id="8a2ec3b1_125"><p><code class="code" id="8a2ec3b1_126">subjectschemefile</code></p></li><li class="list__item" id="8a2ec3b1_127"><p><code class="code" id="8a2ec3b1_128">subjectschemelist</code></p></li><li class="list__item" id="8a2ec3b1_129"><p><code class="code" id="8a2ec3b1_130">subtargetsfile</code></p></li><li class="list__item" id="8a2ec3b1_131"><p><code class="code" id="8a2ec3b1_132">subtargetslist</code></p></li><li class="list__item" id="8a2ec3b1_133"><p><code class="code" id="8a2ec3b1_134">user.input.file.listfile</code></p></li><li class="list__item" id="8a2ec3b1_135"><p><code class="code" id="8a2ec3b1_136">user.input.file</code></p></li></ul><p id="8a2ec3b1_137">The following obsolete list files are no longer generated in the temporary directory:</p><ul class="list _ul" id="8a2ec3b1_138"><li class="list__item" id="8a2ec3b1_139"><p><code class="code" id="8a2ec3b1_140">canditopics.list</code></p></li><li class="list__item" id="8a2ec3b1_141"><p><code class="code" id="8a2ec3b1_142">conref.list</code></p></li><li class="list__item" id="8a2ec3b1_143"><p><code class="code" id="8a2ec3b1_144">conreftargets.list</code></p></li><li class="list__item" id="8a2ec3b1_145"><p><code class="code" id="8a2ec3b1_146">copytosource.list</code></p></li><li class="list__item" id="8a2ec3b1_147"><p><code class="code" id="8a2ec3b1_148">fullditamap.list</code></p></li><li class="list__item" id="8a2ec3b1_149"><p><code class="code" id="8a2ec3b1_150">fullditamapandtopic.list</code></p></li><li class="list__item" id="8a2ec3b1_151"><p><code class="code" id="8a2ec3b1_152">fullditatopic.list</code></p></li><li class="list__item" id="8a2ec3b1_153"><p><code class="code" id="8a2ec3b1_154">hrefditatopic.list</code></p></li><li class="list__item" id="8a2ec3b1_155"><p><code class="code" id="8a2ec3b1_156">hreftargets.list</code></p></li><li class="list__item" id="8a2ec3b1_157"><p><code class="code" id="8a2ec3b1_158">html.list</code></p></li><li class="list__item" id="8a2ec3b1_159"><p><code class="code" id="8a2ec3b1_160">image.list</code></p></li><li class="list__item" id="8a2ec3b1_161"><p><code class="code" id="8a2ec3b1_162">outditafiles.list</code></p></li><li class="list__item" id="8a2ec3b1_163"><p><code class="code" id="8a2ec3b1_164">resourceonly.list</code></p></li><li class="list__item" id="8a2ec3b1_165"><p><code class="code" id="8a2ec3b1_166">subjectscheme.list</code></p></li><li class="list__item" id="8a2ec3b1_167"><p><code class="code" id="8a2ec3b1_168">subtargets.list</code></p></li><li class="list__item" id="8a2ec3b1_169"><p><code class="code" id="8a2ec3b1_170">user.input.file.list</code></p></li><li class="list__item" id="8a2ec3b1_171"><p><code class="code" id="8a2ec3b1_172">usr.input.file.list</code></p></li></ul><p id="8a2ec3b1_173">For example, if your plug-in previously used the <code class="code" id="8a2ec3b1_174">fullditatopicfile</code> to select resources in the temporary directory like this:</p><div class="code-block" data-lang="none">
&lt;xslt basedir=&quot;${dita.temp.dir}&quot;
      destdir=&quot;${output.dir}&quot;
      includesfile=&quot;${dita.temp.dir}${file.separator}${fullditatopicfile}&quot;
      style=&quot;${args.xsl}&quot;&gt;
  [...]
&lt;/xslt&gt;
</div><p id="8a2ec3b1_176">With DITA-OT 2.4 or newer, use the <code class="code" id="8a2ec3b1_177">&lt;ditafileset&gt;</code> element instead:</p><div class="code-block" data-lang="none">
&lt;xslt basedir=&quot;${dita.temp.dir}&quot;
      destdir=&quot;${output.dir}&quot;
      style=&quot;${args.xsl}&quot;&gt;
  &lt;ditafileset format=&quot;dita&quot; processingRole=&quot;normal&quot;/&gt;
  [...]
&lt;/xslt&gt;
</div><p id="8a2ec3b1_179">If your plug-in previously used the <code class="code" id="8a2ec3b1_180">user.input.file.listfile</code> to process the start map like this:</p><div class="code-block" data-lang="none">
&lt;xslt [...]
      includesfile=&quot;${dita.temp.dir}${file.separator}${user.input.file.listfile}&quot;/&gt;
</div><p id="8a2ec3b1_182">Use the <code class="code" id="8a2ec3b1_183">&lt;ditafileset&gt;</code> element as follows:</p><div class="code-block" data-lang="none">
&lt;xslt [...] &gt;
  &lt;ditafileset input=&quot;true&quot; format=&quot;ditamap&quot;/&gt;
&lt;/xslt&gt;
</div></section><section class="chapter"><h2 id="adjusting-output-file-names" data-toc="adjusting-output-file-names">Adjusting output file names</h2><p id="8a2ec3b1_185">Two new parameters can be used to dynamically adjust the names and locations of output files in transformations that use the map-first pre-processing routine (<code class="code" id="8a2ec3b1_186">preprocess2</code>).</p><p id="8a2ec3b1_187">These parameters can be passed on the command line, or included in a custom plug-in via <code class="code" id="8a2ec3b1_188">&lt;property&gt;</code> elements in an Ant script as described in <a href="plugin-rewrite-rules.html" id="8a2ec3b1_189" data-tooltip="To dynamically adjust the names and locations of output files in the map-first pre-processing routine (preprocess2), you can create a custom plug-in and specify the code that contains your custom rewrite rules.">Adjusting file names in map-first pre-processing</a>.</p><ul class="list _ul" id="8a2ec3b1_190"><li class="list__item" id="8a2ec3b1_191"><p>Use <span class="control" id="8a2ec3b1_192">result.rewrite-rule.class</span> to rewrite filenames with a Java class that implements the <code class="code" id="8a2ec3b1_193">org.dita.dost.module.RewriteRule</code> interface</p></li><li class="list__item" id="8a2ec3b1_194"><p>Use <span class="control" id="8a2ec3b1_195">result.rewrite-rule.xsl</span> to rewrite via an XSLT stylesheet</p></li></ul></section><div class="last-modified">Last modified: 13 February 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="migrating-to-3-6.html" class="navigation-links__prev">Migrating to release 3.6</a><a href="migrating-to-3-4.html" class="navigation-links__next">Migrating to release 3.4</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>