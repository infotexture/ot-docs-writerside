<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-02-13T09:29:37.71397"><title>Speeding up builds | DITA Open Toolkit 4.1</title><script type="application/json" id="virtual-toc-data">[{"id":"disable-debug-attribute-generation","level":0,"title":"Disable debug attribute generation","anchor":"#disable-debug-attribute-generation"},{"id":"use-a-fast-disk-for-the-temporary-directory","level":0,"title":"Use a fast disk for the temporary directory","anchor":"#use-a-fast-disk-for-the-temporary-directory"},{"id":"enable-parallel-processing","level":0,"title":"Enable parallel processing","anchor":"#enable-parallel-processing"},{"id":"enable-in-memory-processing","level":0,"title":"Enable in-memory processing","anchor":"#enable-in-memory-processing"},{"id":"reuse-the-jvm-instance","level":0,"title":"Reuse the JVM instance","anchor":"#reuse-the-jvm-instance"},{"id":"use-the-latest-java-version","level":0,"title":"Use the latest Java version","anchor":"#use-the-latest-java-version"},{"id":"re-enable-java-file-caching","level":0,"title":"Re-enable Java file caching","anchor":"#re-enable-java-file-caching"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Speeding up builds | DITA Open Toolkit 4.1"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="DITA Open Toolkit 4.1 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="reducing-processing-time.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Speeding up builds | DITA Open Toolkit 4.1"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "reducing-processing-time.html#webpage",
    "url": "reducing-processing-time.html",
    "name": "Speeding up builds | DITA Open Toolkit 4.1",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "/#website",
    "url": "/",
    "name": "DITA Open Toolkit 4.1 Help"
}</script><!-- End Schema.org --></head><body data-id="reducing-processing-time" data-main-title="Speeding up builds" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="troubleshooting-overview.md|Troubleshooting"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>DITA Open Toolkit 4.1  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="reducing-processing-time" id="reducing-processing-time.md">Speeding up builds</h1><p id="f722f148_2">Several configuration changes can significantly reduce DITA-OT processing time.</p><section class="chapter"><h2 id="disable-debug-attribute-generation" data-toc="disable-debug-attribute-generation">Disable debug attribute generation</h2><p id="f722f148_3">The <span class="control" id="f722f148_4">generate-debug-attributes</span> parameter determines whether debugging attributes are generated in the temporary files. By changing the value to <code class="code" id="f722f148_5">false</code>, DITA-OT will no longer generate the <code class="code" id="f722f148_6">@xtrf</code> and <code class="code" id="f722f148_7">@xtrc</code> debug attributes. This will make it more difficult to track down the source file location from which a given issue may have originated, but it will reduce the size of the temporary files. As a result, XML parsing will take less time and overall processing time will be reduced.</p></section><section class="chapter"><h2 id="use-a-fast-disk-for-the-temporary-directory" data-toc="use-a-fast-disk-for-the-temporary-directory">Use a fast disk for the temporary directory</h2><p id="f722f148_8">DITA-OT keeps topic and map files as separate files and processes each file multiple times during preprocessing. Thus reading from disk, parsing XML, serializing XML, and writing to disk makes processing quite I/O intensive. Use either an <a href="http://en.wikipedia.org/wiki/Solid-state_drive" id="f722f148_9" data-external="true" rel="noopener noreferrer">SSD</a> or a <a href="http://en.wikipedia.org/wiki/RAM_drive" id="f722f148_10" data-external="true" rel="noopener noreferrer">RAM disk</a> for temporary files, and never use a temporary directory that is not located on the same machine as where the processing takes place.</p></section><section class="chapter"><h2 id="enable-parallel-processing" data-toc="enable-parallel-processing">Enable parallel processing</h2><p id="f722f148_11">As of DITA-OT 3.6, preprocessing module code can be run in parallel by setting the <span class="control" id="f722f148_12">parallel</span> parameter to true. The performance benefits this option provides depend heavily on the source file set, the DITA features used in the project, and the computer doing the processing, but under the right circumstances, you may see notable improvements when this option is enabled.</p></section><section class="chapter"><h2 id="enable-in-memory-processing" data-toc="enable-in-memory-processing">Enable in-memory processing</h2><p id="f722f148_13">As of DITA-OT 3.6, the Cache Store can be activated by setting the <span class="control" id="f722f148_14">store-type</span> parameter to memory. In-memory processing provides performance advantages in I/O bound environments such as cloud computing platforms, where processing time depends primarily on how long it takes to read and write temporary files. For more information, see <a href="store-api.html" id="f722f148_15" data-tooltip="DITA-OT originally assumed resources would be available on disk and available from file paths. Recent versions added URI input, so HTTPS resources could be used, but temporary and output resources were still file-based. DITA-OT 3.6 introduces a new Store API that can process&hellip;">Store API &ndash; Processing in memory</a>.</p></section><section class="chapter"><h2 id="reuse-the-jvm-instance" data-toc="reuse-the-jvm-instance">Reuse the JVM instance</h2><p id="f722f148_16">For all but large source sets, the Java virtual machine (JVM) will not have enough time to warm-up. By reusing the same JVM instance, the first few DITA-OT conversions will be &ldquo;normal&rdquo;, but when the Just-In-Time (JIT) compiler starts to kick in, the performance increase may be 2-10 fold. This is especially noticeable with smaller source sets, as much of the DITA-OT processing is I/O intensive.</p><p id="f722f148_17"><span class="control" id="f722f148_18">Tip:</span> The <a href="https://docs.gradle.org/current/userguide/gradle_daemon.html" id="f722f148_19" data-external="true" rel="noopener noreferrer">Gradle Daemon</a> uses this mechanism (along with incremental builds) to reduce processing time. You can run DITA-OT with these features via the <a href="https://github.com/eerohele/dita-ot-gradle" id="f722f148_20" data-external="true" rel="noopener noreferrer">DITA-OT Gradle Plugin</a>.</p></section><section class="chapter"><h2 id="use-the-latest-java-version" data-toc="use-the-latest-java-version">Use the latest Java version</h2><p id="f722f148_21">DITA-OT 2.0 to 2.3 require Java 7, and DITA-OT 2.4 and newer require Java 8. However, using a newer version of Java may further reduce processing time, depending on your operating system.</p></section><section class="chapter"><h2 id="re-enable-java-file-caching" data-toc="re-enable-java-file-caching">Re-enable Java file caching</h2><p id="f722f148_22">As of Java 12, the file canonicalization cache is no longer enabled by default (see <a href="https://bugs.openjdk.org/browse/JDK-8207005" id="f722f148_23" data-external="true" rel="noopener noreferrer">JDK-8207005</a>). On Windows, this results in significantly longer build times, and slight increases on Linux. To re-enable file caching, add <code class="code" id="f722f148_24">-Dsun.io.useCanonCaches=true</code> to the Java invocation command in the <code class="code" id="f722f148_25">dita.bat</code> and <code class="code" id="f722f148_26">ant.bat</code> wrapper scripts.</p><p id="f722f148_27"><span class="control" id="f722f148_28">Note:</span> As of DITA-OT 3.7.3, this system property is set by default in the bundled wrapper scripts.</p><p id="f722f148_29"><span class="control" id="f722f148_30">Collected links</span></p><p id="f722f148_31"><a href="http://en.wikipedia.org/wiki/Solid-state_drive" id="f722f148_32" data-external="true" rel="noopener noreferrer">SSD</a></p><p id="f722f148_33"><a href="http://en.wikipedia.org/wiki/RAM_drive" id="f722f148_34" data-external="true" rel="noopener noreferrer">RAM disk</a></p></section><div class="last-modified">Last modified: 13 February 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="increasing-the-jvm.html" class="navigation-links__prev">Increasing Java memory allocation</a><a href="reference-index.html" class="navigation-links__next">Reference</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>