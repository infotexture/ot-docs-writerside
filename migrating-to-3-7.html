<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-12-26T16:45:30.026323"><meta name="build-number" content="${buildNumber}">       <title>Migrating to release 3.7 | DITA Open Toolkit 4.1</title><script id="virtual-toc-data" type="application/json">[{"id":"common-format-for-generated-text","level":0,"title":"Common format for generated text","anchor":"#common-format-for-generated-text"},{"id":"css-precedence","level":0,"title":"CSS precedence","anchor":"#css-precedence"},{"id":"deprecated-legacy-gen-user-templates","level":0,"title":"Deprecated legacy gen-user templates","anchor":"#deprecated-legacy-gen-user-templates"},{"id":"ancestor-links","level":0,"title":"Ancestor links","anchor":"#ancestor-links"},{"id":"toc-navigation-role","level":0,"title":"ToC navigation role","anchor":"#toc-navigation-role"},{"id":"common-attributes-mode","level":0,"title":"Common attributes mode","anchor":"#common-attributes-mode"},{"id":"xsl-modes","level":0,"title":"XSL modes","anchor":"#xsl-modes"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Migrating to release 3.7 | DITA Open Toolkit 4.1"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="DITA Open Toolkit 4.1 Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="migrating-to-3-7.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Migrating to release 3.7 | DITA Open Toolkit 4.1"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "migrating-to-3-7.html#webpage", "url": "migrating-to-3-7.html", "name": "Migrating to release 3.7 | DITA Open Toolkit 4.1", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/#website", "url": "/", "name": "DITA Open Toolkit 4.1 Help" }</script><!-- End Schema.org --></head>      <body data-id="migrating-to-3.7" data-main-title="Migrating to release 3.7" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="custom-plugins.md|Creating custom plug-ins///migration.md|Migrating customizations"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>DITA Open Toolkit 4.1  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="migrating-to-3.7"   id="migrating-to-3.7.md">Migrating to release 3.7</h1>  <p id="f1c6341a_3">DITA-OT 3.7 includes stable IDs in re-used content, a common variable format for generated text strings, and an updated preview of features for the latest draft of the upcoming DITA 2.0 standard, such as the new &ldquo;combine&rdquo; chunk action, the <code class="code" id="f1c6341a_4">&lt;titlealt&gt;</code> element, and the alternative titles domain.</p><p id="f1c6341a_5"><span class="control" id="f1c6341a_6">Note:</span> This topic provides a summary of changes in DITA-OT 3.7 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/3.7/release-notes/" id="f1c6341a_7"   data-external="true" rel="noopener noreferrer" >DITA-OT 3.7 Release Notes</a>.</p><section class="chapter"><h2 id="common-format-for-generated-text" data-toc="common-format-for-generated-text"   >Common format for generated text</h2><p id="f1c6341a_8">Prior to DITA-OT 3.7, there were two different XML structures for adding or modifying generated text (gentext). The base plug-in <span class="control" id="f1c6341a_9">org.dita.base</span> and any custom overrides defined via the <span class="control" id="f1c6341a_10">dita.strings.xsl</span> extension point used a root element <code class="code" id="f1c6341a_11">&lt;strings&gt;</code>, with individual strings in <code class="code" id="f1c6341a_12">&lt;str&gt;</code> elements with <code class="code" id="f1c6341a_13">@name</code> attributes. This format was previously used for HTML, and all other output formats except PDF.</p><div class="code-block" data-lang="none"         >
&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;strings xml:lang=&quot;en-US&quot;&gt;
  &lt;str name=&quot;String1&quot;&gt;English generated text&lt;/str&gt;
&lt;/strings&gt;
</div><p id="f1c6341a_15">The PDF plug-in <span class="control" id="f1c6341a_16">org.dita.pdf2</span> used a root element <code class="code" id="f1c6341a_17">&lt;vars&gt;</code> with an XML namespace, and strings in <code class="code" id="f1c6341a_18">&lt;variable&gt;</code> elements with <code class="code" id="f1c6341a_19">@id</code> attributes.</p><div class="code-block" data-lang="none"         >
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;vars xmlns=&quot;http://www.idiominc.com/opentopic/vars&quot;&gt;
  &lt;variable id=&quot;String1&quot;&gt;English generated text&lt;/variable&gt;
&lt;/vars&gt;
</div><p id="f1c6341a_21">Starting with DITA-OT 3.7, these structures have been deprecated and replaced with a new unified format. All files now use <code class="code" id="f1c6341a_22">&lt;variables&gt;</code> as the root element, with the <code class="code" id="f1c6341a_23">&lt;variable&gt;</code> elements previously used in PDF strings. The new format supports the XSL parameters used by the earlier PDF strings format to pass dynamic information such as chapter numbers or figure titles.</p><div class="code-block" data-lang="none"         >
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;variables&gt;
  &lt;variable id=&quot;String1&quot;&gt;English generated text&lt;/variable&gt;
&lt;/variables&gt;
</div><p id="f1c6341a_25">The old formats are still supported, but plug-in developers should update any generated text files to reflect the new structure, as support for the old formats may be removed in a future release. <a href="https://github.com/dita-ot/dita-ot/issues/3817" id="f1c6341a_26"   data-external="true" rel="noopener noreferrer" >#3817</a></p></section><section class="chapter"><h2 id="css-precedence" data-toc="css-precedence"   >CSS precedence</h2><p id="f1c6341a_27">The order of elements in the <code class="code" id="f1c6341a_28">&lt;head&gt;</code> element of the HTML template files was changed to facilitate overrides. The common CSS stylesheets and any custom CSS files specified via <span class="control" id="f1c6341a_29">args.css</span> now come <span class="control" id="f1c6341a_30">after</span> the contents of the custom header file specified via <span class="control" id="f1c6341a_31">args.hdf</span>. This change better supports use cases in which the custom header file is used to insert references to external CSS stylesheets for frameworks like <a href="https://getbootstrap.com/docs/5.0/getting-started/introduction/#css" id="f1c6341a_32"   data-external="true" rel="noopener noreferrer" >Bootstrap</a>. In previous versions of DITA-OT, framework styles took precedence over any equivalent rules in the user&rsquo;s custom stylesheet. This change allows rules in custom CSS files specified via <span class="control" id="f1c6341a_33">args.css</span> to override any of the framework styles as necessary.</p></section><section class="chapter"><h2 id="deprecated-legacy-gen-user-templates" data-toc="deprecated-legacy-gen-user-templates"   >Deprecated legacy gen-user templates</h2><p id="f1c6341a_34">The legacy <code class="code" id="f1c6341a_35">gen-user</code> templates that were originally used to add content to the <code class="code" id="f1c6341a_36">&lt;head&gt;</code> element have been deprecated and will be removed in a future release. For each of these templates, parameter-based customizations are available that can be used to specify files that contain content that extends the default processing. <a href="https://github.com/dita-ot/dita-ot/issues/3835" id="f1c6341a_37"   data-external="true" rel="noopener noreferrer" >#3835</a></p><ul class="list _ul" id="f1c6341a_38"><li class="list__item" id="f1c6341a_39"><p><code class="code" id="f1c6341a_40">gen-user-head</code> &rarr; use <span class="control" id="f1c6341a_41">args.hdf</span> instead</p></li><li class="list__item" id="f1c6341a_42"><p><code class="code" id="f1c6341a_43">gen-user-header</code> &rarr; use <span class="control" id="f1c6341a_44">args.hdr</span></p></li><li class="list__item" id="f1c6341a_45"><p><code class="code" id="f1c6341a_46">gen-user-footer</code> &rarr; use <span class="control" id="f1c6341a_47">args.ftr</span></p></li><li class="list__item" id="f1c6341a_48"><p><code class="code" id="f1c6341a_49">gen-user-scripts</code> &rarr; use <span class="control" id="f1c6341a_50">args.hdf</span></p></li><li class="list__item" id="f1c6341a_51"><p><code class="code" id="f1c6341a_52">gen-user-styles</code> &rarr; use <span class="control" id="f1c6341a_53">args.css</span></p></li></ul></section><section class="chapter"><h2 id="ancestor-links" data-toc="ancestor-links"   >Ancestor links</h2><p id="f1c6341a_54">The mappull processing step has changed how related links are generated with <span class="control" id="f1c6341a_55">args.rellinks</span>. Starting in 3.7, noparent will not generate any ancestor links and nofamily will not generate sibling, cousin, ancestor, or descendant links.</p><p id="f1c6341a_56">Prior to 3.7, <span class="control" id="f1c6341a_57">args.rellinks</span>=all did not actually include all links. Now it will. As in previous versions, the default value for PDF output is nofamily, and other output formats include all link roles except <code class="code" id="f1c6341a_58">ancestor</code> links.</p><p id="f1c6341a_59">The default processing sets the internal Ant property <span class="control" id="f1c6341a_60">include.rellinks</span> to <code class="code" id="f1c6341a_61">#default parent child sibling friend next previous cousin descendant sample external other</code>.</p></section><section class="chapter"><h2 id="toc-navigation-role" data-toc="toc-navigation-role"   >ToC navigation role</h2><p id="f1c6341a_62">Table of contents navigation in HTML5 output used a <code class="code" id="f1c6341a_63">&lt;nav&gt;</code> element with the ARIA <code class="code" id="f1c6341a_64">@role</code> attribute set to <code class="code" id="f1c6341a_65">toc</code>. Certain accessibility tools flagged this as an error. The invalid role has been replaced with the <code class="code" id="f1c6341a_66">navigation</code> landmark role. A new <code class="code" id="f1c6341a_67">toc</code> class allows custom CSS styles to target the ToC navigation. CSS rules that use the <code class="code" id="f1c6341a_68">nav[role='toc']</code> selector can be simplified to <code class="code" id="f1c6341a_69">nav.toc</code>.</p></section><section class="chapter"><h2 id="common-attributes-mode" data-toc="common-attributes-mode"   >Common attributes mode</h2><p id="f1c6341a_70">A <code class="code" id="f1c6341a_71">commonattributes</code> mode was added to the HTML5, PDF, and XHTML plug-ins to allow for easier extension. This is a backwards compatible change, however, existing plug-ins should be changed to use the new <code class="code" id="f1c6341a_72">commonattributes</code> mode.</p><div class="code-block" data-lang="none"         >
&lt;xsl:template name=&quot;commonattributes&quot;&gt;
  &lt;!-- whole copy of commonattributes named template with customizations --&gt;
&lt;/xsl:template&gt;
</div><div class="code-block" data-lang="none"         >
&lt;xsl:template match=&quot;@* | node()&quot; mode=&quot;commonattributes&quot;&gt;
  &lt;xsl:param name=&quot;default-output-class&quot; as=&quot;xs:string*&quot;/&gt;
  &lt;xsl:next-match&gt;
    &lt;xsl:with-param name=&quot;default-output-class&quot; select=&quot;$default-output-class&quot;/&gt;
  &lt;/xsl:next-match&gt;
  &lt;!-- customizations --&gt;
&lt;/xsl:template&gt;
</div></section><section class="chapter"><h2 id="xsl-modes" data-toc="xsl-modes"   >XSL modes</h2><p id="f1c6341a_75">The HTML5 stylesheets were updated to use XSL modes instead of named templates.</p><p id="f1c6341a_76">This is a backwards compatible change, however, existing plug-ins should be changed to use modes instead of named templates for:</p><ul class="list _ul" id="f1c6341a_77"><li class="list__item" id="f1c6341a_78"><p><code class="code" id="f1c6341a_79">copyright</code></p></li><li class="list__item" id="f1c6341a_80"><p><code class="code" id="f1c6341a_81">gen-endnotes</code></p></li><li class="list__item" id="f1c6341a_82"><p><code class="code" id="f1c6341a_83">generateDefaultMeta</code></p></li><li class="list__item" id="f1c6341a_84"><p><code class="code" id="f1c6341a_85">generateCssLinks</code></p></li><li class="list__item" id="f1c6341a_86"><p><code class="code" id="f1c6341a_87">generateChapterTitle</code></p></li><li class="list__item" id="f1c6341a_88"><p><code class="code" id="f1c6341a_89">processHDF</code></p></li><li class="list__item" id="f1c6341a_90"><p><code class="code" id="f1c6341a_91">generateBreadcrumbs</code></p></li><li class="list__item" id="f1c6341a_92"><p><code class="code" id="f1c6341a_93">processHDR</code></p></li><li class="list__item" id="f1c6341a_94"><p><code class="code" id="f1c6341a_95">processFTR</code></p></li><li class="list__item" id="f1c6341a_96"><p><code class="code" id="f1c6341a_97">generateCharset</code></p></li></ul></section><div class="last-modified"> Last modified: 26 December 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="migrating-to-4-0.html">Migrating to release 4.0</a>   <a class="navigation-links__next" href="migrating-to-3-6.html">Migrating to release 3.6</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>