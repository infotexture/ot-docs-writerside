<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-02-13T09:29:37.536729"><title>Publishing with project files | DITA Open Toolkit 4.1</title><script type="application/json" id="virtual-toc-data">[{"id":"about-project-files","level":0,"title":"About project files","anchor":"#about-project-files"},{"id":"syntax","level":0,"title":"Syntax","anchor":"#syntax"},{"id":"project-filtering","level":0,"title":"Project filtering","anchor":"#project-filtering"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Publishing with project files | DITA Open Toolkit 4.1"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="DITA Open Toolkit 4.1 Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="using-project-files.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Publishing with project files | DITA Open Toolkit 4.1"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "using-project-files.html#webpage",
    "url": "using-project-files.html",
    "name": "Publishing with project files | DITA Open Toolkit 4.1",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "/#website",
    "url": "/",
    "name": "DITA Open Toolkit 4.1 Help"
}</script><!-- End Schema.org --></head><body data-id="using-project-files" data-main-title="Publishing with project files" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="building-output.md|Building output///build-using-dita-command.md|yes"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>DITA Open Toolkit 4.1  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="using-project-files" id="using-project-files.md">Publishing with project files</h1><p id="858019da_4">DITA-OT 3.4 introduced project files that allow you to publish multiple deliverables at once. Each deliverable specifies a re-usable source <code class="code" id="858019da_5">context</code> that groups the maps or topics you want to publish, an <code class="code" id="858019da_6">output</code> folder, and a <code class="code" id="858019da_7">publication</code> format (such as HTML, or PDF) with transformation parameters.</p><section class="chapter"><h2 id="about-project-files" data-toc="about-project-files">About project files</h2><p id="858019da_8">Project files may be defined in one of three formats: XML, <a href="https://json.org" id="858019da_9" data-external="true" rel="noopener noreferrer">JSON</a>, or <a href="https://yaml.org" id="858019da_10" data-external="true" rel="noopener noreferrer">YAML</a>. The XML format can be validated with a RELAX&nbsp;NG schema provided in the <code class="code" id="858019da_11">resources</code> folder of the DITA-OT installation (<code class="code" id="858019da_12">project.rnc</code>).</p><p id="858019da_13"><span class="control" id="858019da_14">Note:</span> The XML project file format is the normative version provided for interoperability with existing XML-based toolchains. The JSON and YAML versions are alternative compact formats that are easier to read and write, but otherwise equivalent to the XML syntax.</p><p id="858019da_15">Whereas <code class="code" id="858019da_16">.properties</code> files can only be used to set parameters, project files go further, allowing you to define multiple deliverables with separate input files and output folders and formats for each publication. A project file can also refer to other project files with <code class="code" id="858019da_17">include</code> statements. Deliverables, contexts, and publications can either be entirely self-contained, or reference others with <code class="code" id="858019da_18">idref</code> attributes, so you can re-use common configuration structures across (and within) projects.</p><p id="858019da_19">Another advantage of project files over <code class="code" id="858019da_20">.properties</code> files is that they allow you to specify paths relative to the project file, even for parameters that require absolute paths, such as:</p><ul class="list _ul" id="858019da_21"><li class="list__item" id="858019da_22"><p><code class="code" id="858019da_23">args.cssroot</code></p></li><li class="list__item" id="858019da_24"><p><code class="code" id="858019da_25">args.ftr</code></p></li><li class="list__item" id="858019da_26"><p><code class="code" id="858019da_27">args.hdf</code></p></li><li class="list__item" id="858019da_28"><p><code class="code" id="858019da_29">args.hdr</code></p></li></ul></section><section class="chapter"><h2 id="syntax" data-toc="syntax">Syntax</h2><p id="858019da_30">Though the exact syntax differs slightly, the basic structure of project files is similar in all supported formats.</p><p id="858019da_31">The following settings can be defined for each <code class="code" id="858019da_32">deliverable</code>:</p><ul class="list _ul" id="858019da_33"><li class="list__item" id="858019da_34"><p id="858019da_35">a source <code class="code" id="858019da_36">context</code> that may include:</p><ul class="list _ul" id="858019da_37"><li class="list__item" id="858019da_38"><p>an <code class="code" id="858019da_39">id</code> that allows you to refer to this context from other contexts or projects</p></li><li class="list__item" id="858019da_40"><p>an <code class="code" id="858019da_41">idref</code> that refers to another context</p></li><li class="list__item" id="858019da_42"><p>a series of <code class="code" id="858019da_43">input</code> files (the DITA maps or topics you want to publish)</p></li><li class="list__item" id="858019da_44"><p>a <code class="code" id="858019da_45">profile</code> with a series of DITAVAL files used to filter the content of all publications in the deliverable</p></li></ul></li><li class="list__item" id="858019da_46"><p id="858019da_47">an <code class="code" id="858019da_48">output</code> location (relative to the CLI <span class="control" id="858019da_49">--output</span> directory)</p></li><li class="list__item" id="858019da_50"><p id="858019da_51">a <code class="code" id="858019da_52">publication</code> type that defines:</p><ul class="list _ul" id="858019da_53"><li class="list__item" id="858019da_54"><p>an <code class="code" id="858019da_55">id</code> that allows you to refer to this publication from other publications or projects</p></li><li class="list__item" id="858019da_56"><p>an <code class="code" id="858019da_57">idref</code> that refers to another publication</p></li><li class="list__item" id="858019da_58"><p>a <code class="code" id="858019da_59">transtype</code> that specifies an output format (such as HTML, or PDF)</p></li><li class="list__item" id="858019da_60"><p>a series of <code class="code" id="858019da_61">param</code> elements, with any parameters to set for this transformation type, specified via <code class="code" id="858019da_62">name</code> and either <code class="code" id="858019da_63">href</code>, <code class="code" id="858019da_64">path</code>, or <code class="code" id="858019da_65">value</code></p></li><li class="list__item" id="858019da_66"><p>a <code class="code" id="858019da_67">profile</code> with any additional DITAVAL files used to filter the content of the publication (in addition to any filters defined in the map context) Parameters defined in a publication can override those in other publications that are referenced via <code class="code" id="858019da_68">idref</code>.</p></li></ul><div class="code-block" data-lang="none">
&lt;project xmlns=&quot;https://www.dita-ot.org/project&quot;&gt;
  &lt;publication transtype=&quot;html5&quot; id=&quot;common-html5&quot;&gt;
    &lt;param name=&quot;nav-toc&quot; value=&quot;partial&quot;/&gt;
  &lt;/publication&gt;
  &lt;deliverable&gt;
    &lt;context&gt;
      &lt;input href=&quot;root.ditamap&quot;/&gt;
    &lt;/context&gt;
    &lt;output href=&quot;./out&quot;/&gt;
    &lt;publication idref=&quot;common-html5&quot;&gt;
      &lt;param name=&quot;nav-toc&quot; value=&quot;full&quot;/&gt; &lt;!-- override common HTML publication --&gt;
    &lt;/publication&gt;
  &lt;/deliverable&gt;
&lt;/project&gt;
</div></li></ul><p id="858019da_70"><span class="control" id="858019da_71">Tip:</span></p><ul class="list _ul" id="858019da_72"><li class="list__item" id="858019da_73"><p>Use <code class="code" id="858019da_74">href</code> for web addresses and other resources that should resolve to an absolute URI. Relative references are resolved using the project file as a base directory.</p></li><li class="list__item" id="858019da_75"><p>Use <code class="code" id="858019da_76">path</code> for parameters that require an absolute value, like <span class="control" id="858019da_77">args.cssroot</span>. Paths may be defined relative to the project file, but are always expanded to an absolute system path.</p></li><li class="list__item" id="858019da_78"><p>Use <code class="code" id="858019da_79">value</code> to define strings and relative values for properties like <span class="control" id="858019da_80">args.csspath</span>, which is used to describe a relative path in the output folder. String values are passed as is.</p></li></ul></section><section class="chapter"><h2 id="project-filtering" data-toc="project-filtering">Project filtering</h2><p id="858019da_81">As of DITA-OT 4.0, you can add DITAVAL filters to both contexts and publications. If a set of filter conditions applies to most or all of your deliverables, then it should probably be defined in a publication, rather than in contexts.</p><p id="858019da_82">For example, consider a case with 100 maps that have multiple <code class="code" id="858019da_83">@product</code> variants, but every one of which is published in two <code class="code" id="858019da_84">@audience</code> conditions (internal or external). If <code class="code" id="858019da_85">@audience</code> is varied in publications, the structure is orthogonal and well-organized:</p><figure id="858019da_86"><img alt="Sample project filtering scenario" src="ot-docs-writerside/sample-project-filtering-scenario.svg" title="Sample filtering scenario" width="709" height="481"></figure><ol class="list _decimal" id="858019da_87" type="1"><li class="list__item" id="858019da_88"><p id="858019da_89">Create a project file to define the deliverables in your publication project.</p><p id="858019da_90">For example:</p><div class="code-block" data-lang="none">
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-model href=&quot;https://www.dita-ot.org/rng/project.rnc&quot; type=&quot;application/relax-ng-compact-syntax&quot;?&gt;
&lt;project xmlns=&quot;https://www.dita-ot.org/project&quot;&gt;
  &lt;deliverable id=&quot;pdf&quot;&gt;
    &lt;context name=&quot;User Guide&quot;&gt;
      &lt;input href=&quot;../../userguide-book.ditamap&quot;/&gt;
    &lt;/context&gt;
    &lt;output href=&quot;.&quot;/&gt;
    &lt;publication transtype=&quot;pdf2&quot;&gt;
      &lt;param name=&quot;args.chapter.layout&quot; value=&quot;BASIC&quot;/&gt;
      &lt;param name=&quot;args.gen.task.lbl&quot; value=&quot;YES&quot;/&gt;
      &lt;param name=&quot;include.rellinks&quot; value=&quot;#default external&quot;/&gt;
      &lt;param name=&quot;outputFile.base&quot; value=&quot;userguide&quot;/&gt;
      &lt;param name=&quot;theme&quot; path=&quot;../themes/dita-ot-docs-theme.yaml&quot;/&gt;
      &lt;profile&gt;
        &lt;ditaval href=&quot;../../resources/pdf.ditaval&quot;/&gt;
      &lt;/profile&gt;
    &lt;/publication&gt;
  &lt;/deliverable&gt;
&lt;/project&gt;
</div></li><li class="list__item" id="858019da_92"><p id="858019da_93">Pass your project file to the <code class="code" id="858019da_94">dita</code> command to build output.</p><div class="code-block" data-lang="none">
`dita` **--project**=*pdf.xml*
</div></li><li class="list__item" id="858019da_96"><p id="858019da_97">If needed, pass additional arguments to the <code class="code" id="858019da_98">dita</code> command to override specific build parameters.</p><p id="858019da_99">For example, to build output once with <code class="code" id="858019da_100">&lt;draft&gt;</code> and <code class="code" id="858019da_101">&lt;required-cleanup&gt;</code> content:</p><div class="code-block" data-lang="none">
`dita` **--project**=*pdf.xml* **--args.draft**=yes
</div></li><li class="list__item" id="858019da_103"><p id="858019da_104">If your project contains multiple deliverables, you can pass the <span class="control" id="858019da_105">--deliverable</span> option to generate output for a single deliverable ID.</p><div class="code-block" data-lang="none">
`dita` **--project**=*all.xml* **--deliverable**=htmlhelp
</div></li></ol><p id="858019da_107"><span class="control" id="858019da_108">Related information</span></p><p id="858019da_109"><a href="https://www.oxygenxml.com/events/2019/dita-ot_day.html#editing_dita_open_toolkit_project_files" id="858019da_110" data-external="true" rel="noopener noreferrer">Editing DITA Open Toolkit Project files</a></p><p id="858019da_111"><a href="https://www.oxygenxml.com/events/2019/dita-ot_day.html#one_file_to_rule" id="858019da_112" data-external="true" rel="noopener noreferrer">One file to rule them all (DITA Project)</a></p></section><div class="last-modified">Last modified: 13 February 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="migrating-ant-to-dita.html" class="navigation-links__prev">Migrating Ant builds to use the `dita` command</a><a href="project-files-xml.html" class="navigation-links__next">Sample XML project files</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>