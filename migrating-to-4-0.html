<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2023-12-26T16:45:30.0132"><meta name="build-number" content="${buildNumber}">       <title>Migrating to release 4.0 | DITA Open Toolkit 4.1</title><script id="virtual-toc-data" type="application/json">[{"id":"dita-ot-now-requires-java-17","level":0,"title":"DITA-OT now requires Java 17","anchor":"#dita-ot-now-requires-java-17"},{"id":"deprecated-attribute-set-reflection-in-pdf2","level":0,"title":"Deprecated attribute set reflection in PDF2","anchor":"#deprecated-attribute-set-reflection-in-pdf2"},{"id":"code-references-now-default-to-utf-8-encoding","level":0,"title":"Code references now default to UTF-8 encoding","anchor":"#code-references-now-default-to-utf-8-encoding"},{"id":"deprecated-place-tbl-lbl-template-in-html5","level":0,"title":"Deprecated place-tbl-lbl template in HTML5","anchor":"#deprecated-place-tbl-lbl-template-in-html5"}]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Migrating to release 4.0 | DITA Open Toolkit 4.1"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="DITA Open Toolkit 4.1 Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="migrating-to-4-0.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Migrating to release 4.0 | DITA Open Toolkit 4.1"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "migrating-to-4-0.html#webpage", "url": "migrating-to-4-0.html", "name": "Migrating to release 4.0 | DITA Open Toolkit 4.1", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/#website", "url": "/", "name": "DITA Open Toolkit 4.1 Help" }</script><!-- End Schema.org --></head>      <body data-id="migrating-to-4.0" data-main-title="Migrating to release 4.0" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs="custom-plugins.md|Creating custom plug-ins///migration.md|Migrating customizations"  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>DITA Open Toolkit 4.1  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="migrating-to-4.0"   id="migrating-to-4.0.md">Migrating to release 4.0</h1>  <p id="1b8e3115_3">DITA-OT 4.0 requires Java 17 and includes a new plug-in for easier PDF customization, project file improvements, updates to LwDITA processing, and support for the split chunking feature in the latest draft of the upcoming DITA 2.0 standard.</p><p id="1b8e3115_4"><span class="control" id="1b8e3115_5">Note:</span> This topic provides a summary of changes in DITA-OT 4.0 that may require modifications to custom stylesheets or plug-ins. For more information on changes in this release, see the <a href="https://www.dita-ot.org/4.0/release-notes/" id="1b8e3115_6"   data-external="true" rel="noopener noreferrer" >DITA-OT 4.0 Release Notes</a>.</p><section class="chapter"><h2 id="dita-ot-now-requires-java-17" data-toc="dita-ot-now-requires-java-17"   >DITA-OT now requires Java 17</h2><p id="1b8e3115_7">DITA-OT 4.1 is designed to run on Java version 17 or later and built and tested with the Open Java Development Kit (OpenJDK). Compatible Java distributions are available from multiple sources:</p><ul class="list _ul" id="1b8e3115_8"><li class="list__item" id="1b8e3115_9"><p>You can download the Oracle JRE or JDK from <a href="https://www.oracle.com/java/technologies/downloads/" id="1b8e3115_10"   data-external="true" rel="noopener noreferrer" >oracle.com/java</a> under commercial license.</p></li><li class="list__item" id="1b8e3115_11"><p>Eclipse Temurin is the free OpenJDK distribution available from <a href="https://adoptium.net/temurin/releases/?version=17" id="1b8e3115_12"   data-external="true" rel="noopener noreferrer" >adoptium.net</a>.</p></li><li class="list__item" id="1b8e3115_13"><p>Free OpenJDK distributions are also provided by <a href="https://aws.amazon.com/corretto/" id="1b8e3115_14"   data-external="true" rel="noopener noreferrer" >Amazon Corretto</a>, <a href="https://www.azul.com/downloads/" id="1b8e3115_15"   data-external="true" rel="noopener noreferrer" >Azul Zulu</a>, and <a href="https://developers.redhat.com/products/openjdk/download" id="1b8e3115_16"   data-external="true" rel="noopener noreferrer" >Red Hat</a>.</p></li></ul><p id="1b8e3115_17"><span class="control" id="1b8e3115_18">Note:</span> The Java virtual machine is generally backwards compatible, so class files built with earlier versions should still run correctly with Java 17 and DITA-OT 4.1. If your DITA-OT installation contains plug-ins with custom Java code, you may need to recompile these with Java 17 &mdash; but in most cases, this step should not be necessary.</p></section><section class="chapter"><h2 id="deprecated-attribute-set-reflection-in-pdf2" data-toc="deprecated-attribute-set-reflection-in-pdf2"   >Deprecated attribute set reflection in PDF2</h2><p id="1b8e3115_19">The legacy attribute set reflection in PDF2 has been replaced with code that generates new attribute sets directly. This change is backwards-compatible as the old attribute set reflection code has been retained, but PDF2 now uses the new attribute set generation mechanism everywhere reflection was used. Custom plug-ins that still use reflection should be updated to the new approach, as the legacy code may be removed in a future version. <a href="https://github.com/dita-ot/dita-ot/issues/3827" id="1b8e3115_20"   data-external="true" rel="noopener noreferrer" >#3827</a>, <a href="https://github.com/dita-ot/dita-ot/issues/3829" id="1b8e3115_21"   data-external="true" rel="noopener noreferrer" >#3829</a></p></section><section class="chapter"><h2 id="code-references-now-default-to-utf-8-encoding" data-toc="code-references-now-default-to-utf-8-encoding"   >Code references now default to UTF-8 encoding</h2><p id="1b8e3115_22">The default character set for code references has been changed from the system default encoding to UTF-8.</p><p id="1b8e3115_23">This allows a wider range of characters to be used without needing to specify the <code class="code" id="1b8e3115_24">@format</code> attribute on the <code class="code" id="1b8e3115_25">&lt;coderef&gt;</code> element as described in <a href="extended-functionality.html" id="1b8e3115_26" data-tooltip="DITA-OT provides additional processing support beyond that which is mandated by the DITA specification. These extensions can be used to define character encodings or line ranges for code references, normalize indendation, add line numbers or display whitespace characters in code&hellip;"  >character set definition</a> or change the default encoding in the <a href="configuration-properties-file.html" id="1b8e3115_27" data-tooltip="The configuration.properties file controls certain common properties, as well as some properties that control PDF processing."  ><code class="code" id="1b8e3115_28">configuration.properties</code> file</a>. <a href="https://github.com/dita-ot/dita-ot/issues/4046" id="1b8e3115_29"   data-external="true" rel="noopener noreferrer" >#4046</a></p><p id="1b8e3115_30"><span class="control" id="1b8e3115_31">Note:</span> If you have code references that require a different encoding, use either of these mechanisms to specify the character set explicitly.</p></section><section class="chapter"><h2 id="deprecated-place-tbl-lbl-template-in-html5" data-toc="deprecated-place-tbl-lbl-template-in-html5"   >Deprecated place-tbl-lbl template in HTML5</h2><p id="1b8e3115_32">The <code class="code" id="1b8e3115_33">place-tbl-lbl</code> template that was originally used to define table titles in XHTML has been deprecated in HTML5 processing and will be removed in a future release. This template was carried over from XHTML code (which still has a copy that is used), but the copy in HTML5 is not called. <a href="https://github.com/dita-ot/dita-ot/issues/3435" id="1b8e3115_34"   data-external="true" rel="noopener noreferrer" >#3435</a>, <a href="https://github.com/dita-ot/dita-ot/issues/4056" id="1b8e3115_35"   data-external="true" rel="noopener noreferrer" >#4056</a></p></section><div class="last-modified"> Last modified: 26 December 2023</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="migrating-to-4-1.html">Migrating to release 4.1</a>   <a class="navigation-links__next" href="migrating-to-3-7.html">Migrating to release 3.7</a>  </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>